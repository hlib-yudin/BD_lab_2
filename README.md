# BD_lab_2
## Комп'ютерний практикум з баз даних №2
### Виконав: Юдін Гліб, КМ82

Варіант 10

Порівняти найкращий бал з фізики у 2020 та 2019 роках (у кожному регіоні) серед тих, кому було зараховано тест.

--------------------------------------
## Інструкція з запуску
1. Завантажити даний репозиторій, перейти у створену директорію.
2. Перемістити в дану директорію csv-файли з результатами ЗНО, а саме: Odata2019File.csv та Odata2020File.csv.
3. Запустити програму query_lab1.py. Це програма з комп'ютерного практикуму №1, яка створює таблицю tbl_zno_data, заповнює її даними з csv-файлів, виконує вказаний у варіанті запит та записує його у csv-файл. Саме таблиця tbl_zno_data буде в подальшому мігрована. При запуску програма попросить ввести конфігураційні дані: назву БД, ім'я користувача, пароль, хост, порт (тобто редагувати код програми для внесення цих даних не потрібно). Приблизний час виконання програми -- 5-6 хвилин.
4. Запустити flyway для міграції таблиці. Команда для запуску: ```flyway -url="jdbc:postgresql://[LOCALHOST]:[PORT]/[DBNAME]" migrate```, де потрібно замінити плейсхолдери, оточені квадратними дужками, на необхідні конфігураційні дані: хост, порт, назва БД. Також flyway попросить ввести ім'я користувача та пароль. За замовчуванням взято хост localhost, порт 5432, назву БД postgres. Приблизний час міграції -- 6-7 хвилин.
5. Запустити програму query_lab2.py. Вона виконує аналогічний запит, але працює вже з мігрованою базою даних. Результат запиту буде записаний у csv-файл.
6. Відкрити створені файли result_lab1.csv та result_lab2.csv, порівняти вміст файлів. Він має бути ідентичним.
--------------------------------------
## Пояснення ERD
1. Сутність Location -- локація, територія (наприклад, територія, де знаходиться навчальний заклад або де зареєстрований учасник ЗНО). Містить наступні атрибути:
* loc_id -- унікальний ID кожної локації
* TerTypeName -- тип території (місто/село/...)
* TerName -- назва населеного пункту
* AreaName -- назва району/міста
* RegName -- назва регіону

2. Сутність EduInstitution -- навчальний заклад. Містить наступні атрибути:
* EOName -- назва навчального закладу
* EOTypeName -- тип навчального закладу (школа/ліцей/...)
* loc_id -- ID місцевості, де знаходиться навчальний заклад
* EOParent -- орган, якому підпорядковується заклад освіти

3. Сутність Participant -- учасник ЗНО. Містить наступні атрибути:
* OutID -- ID учасника
* Birth -- рік народження
* SexTypeName -- стать
* loc_id -- ID місця реєстрації/проживання учасника
* ParticipType -- статус учасника (студент/випускник/...)
* ClassProfileName -- профіль навчання учасника
* ClassLangName -- мова навчання учасника
* EOName -- назва освітнього закладу, де навчається учасник

4. Сутність TestResult -- результат складання тесту учасником. Містить наступні атрибути:
* OutID -- ID учасника
* TestName -- назва предмету, з якого відбувся тест ЗНО
* year -- рік складання даного ЗНО даним учасником
* Lang -- мова складання тесту
* TestStatus -- результат складання тесту
* DPALevel -- рівень складності завдань ДПА
* Ball100 -- оцінка за шкалою 100-200
* Ball12 -- оцінка за ДПА
* Ball -- тестовий бал
* AdaptScale -- адаптивний поріг
* PTName -- назва навчального закладу, де проводилося тестування
